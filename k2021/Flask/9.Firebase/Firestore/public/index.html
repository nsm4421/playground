<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Index</title>

  <!-- Bootstrap core CSS -->
  <link href="../static/assets/dist/css/bootstrap.min.css" rel="stylesheet">

</head>
<body>

    
    <legned class="border-bottom mb-4">실습 화면</legned>
    <br>
    <input type='text' class="form-control" name='team' id="team" placeholder="팀명">
    <br>
    <input type='text' class="form-control" name='position' id="position" placeholder="포지션">
    <br>
    <input type='text' class="form-control" name='player' id="player" placeholder="선수">
    <br>
    <input type='submit' class="btn btn-outline-info" onclick="setPlayer()"></input>
    <br>
    <input type='submit' class="btn btn-outline-info" onclick="addPlayer()"></input>

    

 <!-- Boostrap core js -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.0/dist/js/bootstrap.bundle.min.js" integrity="sha384-U1DAWAznBHeqEIlVSCgzq+c9gqGAJn5c/t99JyeKa9xxaYpSvHU5awsuZVVFIhvj" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.9.3/dist/umd/popper.min.js" integrity="sha384-eMNCOe7tC1doHpGoWe/6oMVemdAVTMs2xqW4mwXrXsW0L84Iytr2wi5v2QjrP/xp" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.0/dist/js/bootstrap.min.js" integrity="sha384-cn7l7gDp0eyniUwwAZgrzD06kc/tftFf19TOAs2zVinnD/C7E91j9yyk5//jjpt/" crossorigin="anonymous"></script>



<script src="https://www.gstatic.com/firebasejs/8.6.5/firebase-app.js"></script>
<script src="https://www.gstatic.com/firebasejs/8.6.5/firebase-auth.js"></script>
<script src="https://www.gstatic.com/firebasejs/8.6.5/firebase-firestore.js"></script>
<script src="https://www.gstatic.com/firebasejs/8.6.5/firebase-storage.js"></script>

<script>
const firebaseConfig = {
    apiKey: "AIzaSyD0PewKLgicoy_pSOX6s3GYPh-WPd3ZNiA",
    authDomain: "lol-mate.firebaseapp.com",
    projectId: "lol-mate",
    storageBucket: "lol-mate.appspot.com",
    messagingSenderId: "208159272837",
    appId: "1:208159272837:web:c58f29812912742d30deec"
};
    firebase.initializeApp(firebaseConfig);


</script>

<script>
    // firestore db
    const db = firebase.firestore();
    
    // Read
    db.collection('LCK').get().then((snapshot)=>{
        snapshot.forEach((doc)=>{
            console.log(doc.data());
      })
    });

    // set
    function setPlayer(){
        var team = document.getElementById('team').value;
        var position = document.getElementById('position').value;
        var player = document.getElementById('player').value;
        var myObj = {};
        myObj[position] = player;
        
        db.collection("LCK").doc(team).set(myObj).then(()=>{
            console.log("팀명 : " + team + " / 포지션 : " + position + " / 선수명 : " + player);
        })        
    }

    // add

        
    db.collection("LCK").add({'Mid' : '혁이'});
    
    

    
    

  
  </script>
</body>
</html>